---
apiVersion: gateway.mulesoft.com/v1alpha1
kind: Extension
metadata:
  labels:
    title: Akto Mirroring Policy
    category: Custom
    description: Mirrors traffic data of your API's to Akto Instance
    metadata/interfaceScope: api,resource
spec:
  extends:
    - name: extension-definition
      namespace: default
  properties:
    ingestionUrl:
      type: string
      format: service
      description: The url of the service that will ingest the metrics generated by the policy
    sampling_percentage:
      type: integer
      description: Control the percentage of traffic to be forwarded via this policy. Values can be in range (0-100)
  required:
    - ingestionUrl
